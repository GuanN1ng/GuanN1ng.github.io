---
layout: post
title:  "Java 线程池"
date:   2021-06-29 19:14:51
categories: JDK
---

绝大多数情况下，Java的线程模式都是1:1模型，即采用内核线程实现，且**一个线程是不能重复启动的**，过多线程带来开销不容忽视，如创建、销毁线程
的开销、调度线程的开销(频繁的用户态内核态切换)，同时也降低了计算机的整体性能。

线程池(Thread Pool)是一种基于**池化思想**管理线程的工具，解决的核心问题就是**资源管理问题**。在并发环境下，系统不能够确定在任意时刻中，
有多少任务需要执行，有多少资源需要投入。通过线程池持有一定量线程，当应用需要使用线程执行任务时，将任务提交给线程池，由线程池内的某一线程执行，
避免用户随意创建线程。


#### ThreadPoolExecutor

Java线程池的核心实现类是ThreadPoolExecutor类，UML类图如下

![threadPoolUML.png](_posts/image/threadPoolUML.png)<br />


线程池优势：

* 降低资源消耗：通过池化技术重复利用已创建的线程，降低线程创建和销毁造成的损耗。
* 提高响应速度：任务到达时，无需等待线程创建即可立即执行。
* 提高线程的可管理性：使用线程池可以对应用内的线程进行统一的分配、调优和监控。
* 提供更多更强大的功能：线程池具备可拓展性，允许开发人员向其中增加更多的功能。比如ScheduledThreadPoolExecutor，就允许任务延期执行或定期执行。